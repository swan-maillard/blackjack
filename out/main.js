(()=>{var t={7774:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(8081),a=n.n(r),s=n(3645),i=n.n(s),o=n(1667),c=n.n(o),d=new URL(n(6293),n.b),l=i()(a()),p=c()(d);l.push([t.id,".preload * {\r\n    -webkit-transition: none !important;\r\n    -moz-transition: none !important;\r\n    -ms-transition: none !important;\r\n    -o-transition: none !important;\r\n}\r\n\r\nhtml, body {\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    border: 0;\r\n    overflow: hidden;\r\n}\r\n\r\n#boardGame {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: radial-gradient(circle, #007900 0%, #002a00 100%);\r\n    color: white;\r\n}\r\n\r\n.hand {\r\n    position: absolute;\r\n    left: calc(100%/2 - 48px);\r\n    width: 96px;\r\n    height: 144px;\r\n    border: 3px dotted #cacaca\r\n}\r\n\r\n.hand2.hover > .card:not(.backCard) {\r\n    transform: scale(1.2) rotate(2deg);\r\n    box-shadow: black 2px -2px 10px;\r\n}\r\n\r\n.hand2:not(.currentHand) > .card {\r\n    filter: opacity(0.5);\r\n}\r\n\r\n#dealerHand {\r\n    top: 70px;;\r\n}\r\n\r\n#playerHand {\r\n    top: calc(100% - 144px - 70px);\r\n}\r\n\r\n.card {\r\n    position: absolute;\r\n    width: 96px;\r\n    height: 144px;\r\n    transition: 0.7s;\r\n}\r\n\r\n.backCard {\r\n    background-image: url("+p+")!important;\r\n}\r\n\r\n#deck {\r\n    position: absolute;\r\n    top: 70px;\r\n    left: calc(100% - 96px - 70px);\r\n}\r\n\r\n#deck:after {\r\n    position: absolute;\r\n    content: attr(data-content);\r\n    top: 144px;\r\n    left: 35px;\r\n    color: #cacaca;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n}\r\n\r\n#actions {\r\n    position: absolute;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: center;\r\n    width: 150px;\r\n    height: 100%;\r\n    left: calc(100%/4 - 75px);\r\n}\r\n\r\n.actionButton {\r\n    width: 150px;\r\n    height: 75px;\r\n    background: #ffffff38;\r\n    border: 3px solid #1a1a1a;\r\n    border-radius: 20px;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    transition: 0.5s;\r\n    color: #1a1a1a;\r\n    font-family: Calibri;\r\n    margin: 10px 0;\r\n}\r\n\r\n.actionButton:not(.disabled):hover {\r\n    transform: scale(1.1) rotate(1deg);\r\n    background: #ffffff6b;\r\n}\r\n\r\n.actionButton:not(.disabled):active {\r\n    background: #ffffff91;\r\n    transform: scale(0.9) rotate(-2deg);\r\n    transition: 0.05s;\r\n}\r\n\r\n.actionButton.disabled {\r\n    cursor: default;\r\n    background: transparent;\r\n}\r\n\r\n#score {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-align: center;\r\n    font-size: 50px;\r\n    font-weight: bold;\r\n    top: calc(100%/2 - 25px);\r\n    line-height: 50px;\r\n    transition: 0.5s;\r\n    color: #000000;\r\n    transform: scale(0);\r\n}\r\n\r\n#money {\r\n    width: fit-content;\r\n    background: #ffffff38;\r\n    border-radius: 0 0 20px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #1a1a1a;\r\n    font-family: Calibri;\r\n    padding: 10px;\r\n}\r\n\r\n.stateMessage {\r\n    position: absolute;\r\n    font-weight: bold;\r\n    top: 160px;\r\n    text-align: center;\r\n    font-size: 15px;\r\n    transition: 0.5s;\r\n    color: #d40000;\r\n    text-shadow: black 2px 2px 3px;\r\n    transform: scale(0);\r\n}",""]);const u=l},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,s){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(i[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);r&&i[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},i=[],o=0;o<t.length;o++){var c=t[o],d=r.base?c[0]+r.base:c[0],l=s[d]||0,p="".concat(d," ").concat(l);s[d]=l+1;var u=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var f=a(h,r);r.byIndex=o,e.splice(o,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var s=r(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<s.length;i++){var o=n(s[i]);e[o].references--}for(var c=r(t,a),d=0;d<s.length;d++){var l=n(s[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},2800:(t,e,n)=>{var r={"./card-back1.png":6293,"./card-back2.png":2250,"./card-back3.png":634,"./card-back4.png":6165,"./card-blank.png":7064,"./card-clubs-1.png":5202,"./card-clubs-10.png":2627,"./card-clubs-11.png":8685,"./card-clubs-12.png":1483,"./card-clubs-13.png":3028,"./card-clubs-2.png":1622,"./card-clubs-3.png":97,"./card-clubs-4.png":8106,"./card-clubs-5.png":8566,"./card-clubs-6.png":4025,"./card-clubs-7.png":767,"./card-clubs-8.png":9671,"./card-clubs-9.png":1160,"./card-diamonds-1.png":8924,"./card-diamonds-10.png":2547,"./card-diamonds-11.png":9045,"./card-diamonds-12.png":1246,"./card-diamonds-13.png":4057,"./card-diamonds-2.png":5553,"./card-diamonds-3.png":6404,"./card-diamonds-4.png":2637,"./card-diamonds-5.png":6517,"./card-diamonds-6.png":3925,"./card-diamonds-7.png":309,"./card-diamonds-8.png":2537,"./card-diamonds-9.png":5264,"./card-hearts-1.png":7632,"./card-hearts-10.png":9911,"./card-hearts-11.png":1391,"./card-hearts-12.png":117,"./card-hearts-13.png":4155,"./card-hearts-2.png":156,"./card-hearts-3.png":2705,"./card-hearts-4.png":1469,"./card-hearts-5.png":3110,"./card-hearts-6.png":1331,"./card-hearts-7.png":6941,"./card-hearts-8.png":5511,"./card-hearts-9.png":1459,"./card-spades-1.png":7235,"./card-spades-10.png":2263,"./card-spades-11.png":7379,"./card-spades-12.png":6820,"./card-spades-13.png":1697,"./card-spades-2.png":3833,"./card-spades-3.png":2030,"./card-spades-4.png":2803,"./card-spades-5.png":9122,"./card-spades-6.png":3966,"./card-spades-7.png":3116,"./card-spades-8.png":4720,"./card-spades-9.png":7518};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id=2800},6293:(t,e,n)=>{"use strict";t.exports=n.p+"502e98463c5d144a8c1f.png"},2250:(t,e,n)=>{"use strict";t.exports=n.p+"88cdc73fe83d6a265e7f.png"},634:(t,e,n)=>{"use strict";t.exports=n.p+"e4f857b19869ac4ed5c2.png"},6165:(t,e,n)=>{"use strict";t.exports=n.p+"2784eb897dd71be5882f.png"},7064:(t,e,n)=>{"use strict";t.exports=n.p+"400ea2adf78d8b3e3e3e.png"},5202:(t,e,n)=>{"use strict";t.exports=n.p+"8061496e2997a444ec7e.png"},2627:(t,e,n)=>{"use strict";t.exports=n.p+"c4c410fa86df1463f249.png"},8685:(t,e,n)=>{"use strict";t.exports=n.p+"47fab08ff30eb635b995.png"},1483:(t,e,n)=>{"use strict";t.exports=n.p+"7ce04acb9ee2689c396a.png"},3028:(t,e,n)=>{"use strict";t.exports=n.p+"b6b0b9c2477604cdba75.png"},1622:(t,e,n)=>{"use strict";t.exports=n.p+"c91364fa0c444cba5a30.png"},97:(t,e,n)=>{"use strict";t.exports=n.p+"7f0a16df8b0d8617b844.png"},8106:(t,e,n)=>{"use strict";t.exports=n.p+"0ef18a3383e228c2e549.png"},8566:(t,e,n)=>{"use strict";t.exports=n.p+"5bb659db058a45693ea6.png"},4025:(t,e,n)=>{"use strict";t.exports=n.p+"a9165a3b8b413173d7d9.png"},767:(t,e,n)=>{"use strict";t.exports=n.p+"0682f76d5d63f252f4aa.png"},9671:(t,e,n)=>{"use strict";t.exports=n.p+"bbcfbd9f6d45e0b247fc.png"},1160:(t,e,n)=>{"use strict";t.exports=n.p+"3a78273532f51db2ce08.png"},8924:(t,e,n)=>{"use strict";t.exports=n.p+"1147a832e122caeeccde.png"},2547:(t,e,n)=>{"use strict";t.exports=n.p+"fa6be1be57f31e1e9e3e.png"},9045:(t,e,n)=>{"use strict";t.exports=n.p+"1c12a1e969ef5616db2c.png"},1246:(t,e,n)=>{"use strict";t.exports=n.p+"fc1037845e73447b4bef.png"},4057:(t,e,n)=>{"use strict";t.exports=n.p+"63548591dc70f8dd6c0e.png"},5553:(t,e,n)=>{"use strict";t.exports=n.p+"554ed05730cb8f2abb92.png"},6404:(t,e,n)=>{"use strict";t.exports=n.p+"b5b010ff20157039ee0f.png"},2637:(t,e,n)=>{"use strict";t.exports=n.p+"28a0b655512df0781092.png"},6517:(t,e,n)=>{"use strict";t.exports=n.p+"fb16c25806dad7760c5f.png"},3925:(t,e,n)=>{"use strict";t.exports=n.p+"91254dd3c7b3671ba81f.png"},309:(t,e,n)=>{"use strict";t.exports=n.p+"fdb260a4bf1c49e72734.png"},2537:(t,e,n)=>{"use strict";t.exports=n.p+"47c99bcadd0594fc4084.png"},5264:(t,e,n)=>{"use strict";t.exports=n.p+"fc322ef866a6342301ac.png"},7632:(t,e,n)=>{"use strict";t.exports=n.p+"fef24310008aff183afd.png"},9911:(t,e,n)=>{"use strict";t.exports=n.p+"b6f0886825517bfffc5a.png"},1391:(t,e,n)=>{"use strict";t.exports=n.p+"fb6e32c76cd82a652dbc.png"},117:(t,e,n)=>{"use strict";t.exports=n.p+"39998879b75b1ef99b98.png"},4155:(t,e,n)=>{"use strict";t.exports=n.p+"c1287bcd04c96dd6a0af.png"},156:(t,e,n)=>{"use strict";t.exports=n.p+"7ee1130eb3635430de85.png"},2705:(t,e,n)=>{"use strict";t.exports=n.p+"a17e1eb4122da58ab2f0.png"},1469:(t,e,n)=>{"use strict";t.exports=n.p+"ffcde93f3d12d42604f9.png"},3110:(t,e,n)=>{"use strict";t.exports=n.p+"729c3114b57535662211.png"},1331:(t,e,n)=>{"use strict";t.exports=n.p+"25966b429a29097775e2.png"},6941:(t,e,n)=>{"use strict";t.exports=n.p+"67a9419cbcfa94e6f74f.png"},5511:(t,e,n)=>{"use strict";t.exports=n.p+"6ec0c8a01c1017a6062e.png"},1459:(t,e,n)=>{"use strict";t.exports=n.p+"2d24f6098d04be4286b1.png"},7235:(t,e,n)=>{"use strict";t.exports=n.p+"e2943f95439d100e1824.png"},2263:(t,e,n)=>{"use strict";t.exports=n.p+"38f4563360aa33adbb55.png"},7379:(t,e,n)=>{"use strict";t.exports=n.p+"c2ce67aa39e512bc8bd4.png"},6820:(t,e,n)=>{"use strict";t.exports=n.p+"cb4c794e394a219079b7.png"},1697:(t,e,n)=>{"use strict";t.exports=n.p+"1743d124ebce1be7b34f.png"},3833:(t,e,n)=>{"use strict";t.exports=n.p+"4e7404f3d1cb04ec17c9.png"},2030:(t,e,n)=>{"use strict";t.exports=n.p+"5be45d7fa98f344eb3e7.png"},2803:(t,e,n)=>{"use strict";t.exports=n.p+"cfd9685811540e276e52.png"},9122:(t,e,n)=>{"use strict";t.exports=n.p+"28b69f60d17e51b48777.png"},3966:(t,e,n)=>{"use strict";t.exports=n.p+"d87b9f0f51c3f370db71.png"},3116:(t,e,n)=>{"use strict";t.exports=n.p+"bdca3d47e3b048fbae30.png"},4720:(t,e,n)=>{"use strict";t.exports=n.p+"91498eef2552ffe90454.png"},7518:(t,e,n)=>{"use strict";t.exports=n.p+"5643b29f38e64d434f71.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var t,e=n(3379),r=n.n(e),a=n(7795),s=n.n(a),i=n(569),o=n.n(i),c=n(3565),d=n.n(c),l=n(9216),p=n.n(l),u=n(4589),h=n.n(u),f=n(7774),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=o().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),r()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals,function(t){t[t.Club=0]="Club",t[t.Diamond=1]="Diamond",t[t.Heart=2]="Heart",t[t.Spade=3]="Spade"}(t||(t={}));const b=function(){function e(t,e){this._value=t,this._suit=e}return e.prototype.getUrl=function(){var e="card-";switch(this._suit){case t.Club:e+="clubs";break;case t.Diamond:e+="diamonds";break;case t.Heart:e+="hearts";break;case t.Spade:e+="spades"}return e+="-"+this._value.toString()+".png",n(2800)("./"+e)},e.prototype.getName=function(){var e;switch(this._value){case 1:e="As";break;case 11:e="Valet";break;case 12:e="Dame";break;case 13:e="Roi";break;default:e=this._value.toString()}switch(e+=" de ",this._suit){case t.Club:e+="Trèfle";break;case t.Diamond:e+="Carreau";break;case t.Heart:e+="Coeur";break;case t.Spade:e+="Pique"}return e},e.prototype.getScore=function(){var t;switch(this._value){case 11:case 12:case 13:t=10;break;default:t=this._value}return t},e.getBackUrl=function(){return n(6293)},e}(),y=function(){function t(){this._cards=[]}return t.prototype.addCard=function(t){t instanceof b&&this._cards.push(t)},t.prototype.getCards=function(){return this._cards},t.prototype.getScore=function(){var t=0,e=!1;return this._cards.forEach((function(n){1===n.getScore()&&(e=!0),t+=n.getScore()})),e?11===t?[21]:[t,t+10]:[t]},t}(),m=function(){function t(){this._hands=[new y],this._bets=[],this._bankroll=0}return t.prototype.addCard=function(t,e){this.getHand(e).addCard(t)},t.prototype.getHand=function(t){return t<this._hands.length?this._hands[t]:this._hands[0]},t.prototype.getNumberHands=function(){return this._hands.length},t.prototype.splitHand=function(t){var e=this.getHand(t).getCards();2===e.length&&(this._hands[t]=new y,this._hands.push(new y),this._hands[t].addCard(e[0]),this._hands[this._hands.length-1].addCard(e[1]))},t.prototype.clearHands=function(){this._hands=[new y],this._bets=[]},t.prototype.setBankroll=function(t){this._bankroll=Math.max(0,t)},t.prototype.getBankroll=function(){return this._bankroll},t.prototype.bet=function(t,e){t=Math.max(Math.min(this._bankroll,t),0),void 0===this._bets[e]&&(this._bets[e]=0),this._bets[e]+=t,this._bankroll-=t},t.prototype.getBet=function(t){return this._bets[t]},t.prototype.winBet=function(t){console.log(this._bets),this._bankroll+=2*this._bets[t]},t.prototype.winBlackjack=function(t){console.log(this._bets),this._bankroll+=2.5*this._bets[t]},t.prototype.tie=function(t){console.log(this._bets),this._bankroll+=this._bets[t]},t}(),v=function(){function t(){this._cards=[]}return t.prototype.addCard=function(t){this._cards.push(t)},t.prototype.shuffle=function(){this._cards=this._cards.sort((function(t,e){return.5-Math.random()}))},t.prototype.popCard=function(){return this._cards.pop()},t.prototype.isEmpty=function(){return 0===this._cards.length},t.prototype.getNbCards=function(){return this._cards.length},t}();var x=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function o(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},_=function(t,e){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},H={DEALER:document.getElementById("dealerHand"),PLAYER:document.getElementById("playerHand")};function k(t){return new Promise((function(e){return setTimeout(e,t)}))}const w=function(){function t(){}return t.dealCard=function(t,e){return x(this,void 0,void 0,(function(){var n,r,a,s,i,o,c,d,l;return _(this,(function(p){switch(p.label){case 0:if(void 0===t)return[2];if(this.animationPlaying=!0,(n=document.getElementById("deck")).setAttribute("data-content",(parseInt(n.dataset.content)-1).toString()),0===(r=H[e].children).length)(a=document.createElement("div")).classList.add("hand2","currentHand"),a.setAttribute("data-hand","0"),H[e].append(a);else for(s=0;s<r.length;s++)r[s].classList.contains("currentHand")&&(a=r[s]);return i=document.getElementById("deck"),(o=document.createElement("div")).classList.add("card","backCard"),o.style.backgroundImage="url("+t.getUrl()+")",o.style.top=(i.getBoundingClientRect().top-a.getBoundingClientRect().top).toString()+"px",o.style.left=(i.getBoundingClientRect().left-a.getBoundingClientRect().left).toString()+"px",a.appendChild(o),[4,k(100)];case 1:return p.sent(),c=-this.offsetCards,d=this.offsetCards,"DEALER"===e&&(c*=-1),a.children.length>1?(l=a.lastChild.previousSibling,o.style.top=(l.getBoundingClientRect().top-a.getBoundingClientRect().top+c).toString()+"px",o.style.left=(l.getBoundingClientRect().left-a.getBoundingClientRect().left+d).toString()+"px"):(o.style.top="0px",o.style.left="0px"),[4,k(this.dealingSpeed)];case 2:return p.sent(),o.classList.remove("backCard"),setTimeout((function(){for(var t=a.children,e=1;e<t.length;e++)t[e].classList.contains("stateMessage")||(t[e].style.top=(parseInt(t[0].style.top)+e*c).toString()+"px",t[e].style.left=(parseInt(t[0].style.left)+e*d).toString()+"px")}),100),this.animationPlaying=!1,[2]}}))}))},t.clearHands=function(){return x(this,void 0,void 0,(function(){var t,e,n,r,a;return _(this,(function(s){switch(s.label){case 0:for(this.animationPlaying=!0,t=document.getElementsByClassName("card"),a=0;a<t.length;a++)e=t[a],(n=e.parentElement).classList.contains("hand2")&&(e.classList.add("backCard"),e.style.top=(-n.getBoundingClientRect().top-e.clientHeight).toString()+"px",e.style.left="0px");for(r=document.getElementsByClassName("stateMessage"),a=0;a<r.length;a++)r[a].style.transform="scale(0)";return[4,k(this.dealingSpeed)];case 1:return s.sent(),H.DEALER.innerHTML="",H.PLAYER.innerHTML="",this.animationPlaying=!1,[2]}}))}))},t.splitCards=function(){return x(this,void 0,void 0,(function(){var t,e,n,r,a,s,i,o,c,d;return _(this,(function(l){switch(l.label){case 0:for(this.animationPlaying=!0,t=H.PLAYER.children,s=0;s<t.length;s++)t[s].classList.contains("currentHand")&&(e=t[s]);return(n=e.lastChild).remove(),(r=document.createElement("div")).classList.add("hand2"),r.setAttribute("data-hand",t.length.toString()),r.append(n),H.PLAYER.append(r),[4,k(100)];case 1:for(l.sent(),a=t.length,s=0;s<a;s++)for(i=t[s].children,o=0;o<i.length;o++)c=i[o],d=2*Math.sign((a-1)/2-s)*Math.round(Math.abs((a-1)/2-s)),a%2==0&&(d-=Math.sign(d)),c.style.top=(-50-o*this.offsetCards).toString()+"px",c.style.left=(d*c.clientWidth+o*this.offsetCards).toString()+"px";return[4,k(this.dealingSpeed)];case 2:return l.sent(),this.animationPlaying=!1,[2]}}))}))},t.switchHand=function(t){for(var e=H.PLAYER.children,n=0;n<e.length;n++)parseInt(e[n].dataset.hand)===t?e[n].classList.add("currentHand"):e[n].classList.remove("currentHand")},t.showStateMessage=function(t,e){return x(this,void 0,void 0,(function(){var n,r,a,s;return _(this,(function(i){switch(i.label){case 0:n=H.PLAYER.children,r=0,i.label=1;case 1:return r<n.length?parseInt(n[r].dataset.hand)!==e?[3,4]:(n[r].classList.add("currentHand"),null!==n[r].querySelector(".stateMessage")?[3,3]:((a=document.createElement("div")).classList.add("stateMessage"),a.textContent=t,s=n[r].firstChild,a.style.width=s.clientWidth.toString()+"px",a.style.left=parseInt(s.style.left).toString()+"px",n[r].append(a),[4,k(100)])):[3,5];case 2:return i.sent(),a.style.transform="scale(1)",[3,4];case 3:n[r].querySelector(".stateMessage").textContent=t,i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))},t.endPlayerTurn=function(){for(var t=H.PLAYER.children,e=0;e<t.length;e++)t[e].classList.add("currentHand")},t.animationPlaying=!1,t.dealingSpeed=700,t.offsetCards=20,t}();var B,C=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(t){s(t)}}function o(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},S=function(t,e){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};!function(t){t[t.CREATE=0]="CREATE",t[t.BET=1]="BET",t[t.DEAL=2]="DEAL",t[t.PLAY=3]="PLAY",t[t.FINISH=4]="FINISH"}(B||(B={}));var E={STAND:document.getElementById("standButton"),HIT:document.getElementById("hitButton"),DOUBLE:document.getElementById("doubleButton"),SPLIT:document.getElementById("splitButton"),disableAll:function(){E.STAND.classList.add("disabled"),E.HIT.classList.add("disabled"),E.DOUBLE.classList.add("disabled"),E.SPLIT.classList.add("disabled")}};const L=function(){function t(){this._player=new m,this._dealerHand=new y,this._currentPlayerHand=0,this._state=B.CREATE,this._deck=new v}return t.prototype.start=function(t,e){return C(this,void 0,void 0,(function(){var n,r,a;return S(this,(function(s){switch(s.label){case 0:for(this._player.setBankroll(t),e=Math.min(Math.max(1,e),8),n=0;n<e;n++)for(r=0;r<4;r++)for(a=1;a<=13;a++)this._deck.addCard(new b(a,r));return this._deck.shuffle(),document.getElementById("deck").setAttribute("data-content",this._deck.getNbCards().toString()),document.getElementById("bankroll").textContent=this._player.getBankroll().toString()+" €",[4,this.bet()];case 1:return s.sent(),[2]}}))}))},t.prototype.bet=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._state=B.BET,this._player.bet(10,this._currentPlayerHand),document.getElementById("bankroll").textContent=this._player.getBankroll().toString()+" €",document.getElementById("bet").textContent=this._player.getBet(this._currentPlayerHand).toString()+" €",[4,this.deal()];case 1:return t.sent(),[2]}}))}))},t.prototype.deal=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return this._state=B.DEAL,E.disableAll(),t=this._deck.popCard(),[4,w.dealCard(t,"PLAYER")];case 1:return e.sent(),this._player.addCard(t,this._currentPlayerHand),t=this._deck.popCard(),[4,w.dealCard(t,"DEALER")];case 2:return e.sent(),this._dealerHand.addCard(t),t=this._deck.popCard(),[4,w.dealCard(t,"PLAYER")];case 3:return e.sent(),this._player.addCard(t,this._currentPlayerHand),this._state=B.PLAY,this.isHandLost()?[4,this.nextHand()]:[3,5];case 4:return e.sent(),[3,6];case 5:this.enableButtons(),e.label=6;case 6:return[2]}}))}))},t.prototype.isHandLost=function(){return this.playerBlackjack(this._currentPlayerHand)?(w.showStateMessage("BLACKJACK",this._currentPlayerHand),!0):!!this.playerBusts(this._currentPlayerHand)&&(w.showStateMessage("BRÛLÉ",this._currentPlayerHand),!0)},t.prototype.enableButtons=function(){E.disableAll(),E.STAND.classList.remove("disabled"),E.HIT.classList.remove("disabled"),this.canDouble()&&E.DOUBLE.classList.remove("disabled"),this.canSplit()&&E.SPLIT.classList.remove("disabled")},t.prototype.canSplit=function(){var t=this._player.getHand(this._currentPlayerHand).getCards();return 2===t.length&&t[0].getScore()===t[1].getScore()&&this._player.getNumberHands()<3&&this._player.getBankroll()>=this._player.getBet(this._currentPlayerHand)},t.prototype.canDouble=function(){return this._player.getBankroll()>=this._player.getBet(this._currentPlayerHand)},t.prototype.hit=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return this._state!==B.PLAY||w.animationPlaying?[3,3]:(this.enableButtons(),E.DOUBLE.classList.add("disabled"),t=this._deck.popCard(),[4,w.dealCard(t,"PLAYER")]);case 1:return e.sent(),this._player.addCard(t,this._currentPlayerHand),this.canSplit()&&E.SPLIT.classList.remove("disabled"),this.isHandLost()?[4,this.nextHand()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.double=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return this._state===B.PLAY&&!w.animationPlaying&&this._player.getBankroll()>=this._player.getBet(this._currentPlayerHand)?(this._player.bet(this._player.getBet(this._currentPlayerHand),this._currentPlayerHand),E.disableAll(),document.getElementById("bankroll").textContent=this._player.getBankroll().toString()+" €",document.getElementById("bet").textContent=this._player.getBet(this._currentPlayerHand).toString()+" €",t=this._deck.popCard(),[4,w.dealCard(t,"PLAYER")]):[3,3];case 1:return e.sent(),this._player.addCard(t,this._currentPlayerHand),this.isHandLost(),[4,this.nextHand()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.split=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return t=this._player.getHand(this._currentPlayerHand).getCards(),this._state===B.PLAY&&2===t.length&&t[0].getScore()===t[1].getScore()&&this._player.getNumberHands()<3&&this._player.getBankroll()>=this._player.getBet(this._currentPlayerHand)&&!w.animationPlaying?(this._player.splitHand(this._currentPlayerHand),this._player.bet(this._player.getBet(this._currentPlayerHand),this._currentPlayerHand+1),document.getElementById("bankroll").textContent=this._player.getBankroll().toString()+" €",document.getElementById("bet").textContent=this._player.getBet(this._currentPlayerHand).toString()+" €",this.enableButtons(),[4,w.splitCards()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.nextHand=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._currentPlayerHand<this._player.getNumberHands()-1?(this._currentPlayerHand++,w.switchHand(this._currentPlayerHand),this.enableButtons(),[3,5]):[3,1];case 1:return this.isGameOver()?[4,this.pay()]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,this.dealerTurn()];case 4:t.sent(),t.label=5;case 5:return[2]}}))}))},t.prototype.dealerTurn=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:if(this._state!==B.PLAY||w.animationPlaying)return[3,5];E.disableAll(),w.endPlayerTurn(),e.label=1;case 1:return!this.dealerBlackjack()&&!this.dealerBusts()&&Math.min.apply(Math,this._dealerHand.getScore())<17?(t=this._deck.popCard(),[4,w.dealCard(t,"DEALER")]):[3,3];case 2:return e.sent(),this._dealerHand.addCard(t),[3,1];case 3:return[4,this.pay()];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))},t.prototype.pay=function(){return C(this,void 0,void 0,(function(){var t,e,n,r,a=this;return S(this,(function(s){switch(s.label){case 0:this._state=B.FINISH,E.disableAll(),e=Math.max.apply(Math,this._dealerHand.getScore().filter((function(t){return t<=21}))),n=0,s.label=1;case 1:return n<this._player.getNumberHands()?(r=Math.max.apply(Math,this._player.getHand(n).getScore().filter((function(t){return t<=21}))),e===r?(t="ÉGALITÉ",this._player.tie(this._currentPlayerHand)):this.playerBlackjack(n)?this._player.winBlackjack(this._currentPlayerHand):this.playerBusts(n)?t="BRÛLÉ":this.dealerBlackjack()?t="PERDU":this.dealerBusts()?(t="GAGNÉ",this._player.winBet(this._currentPlayerHand)):e>r?t="PERDU":e<r&&(t="GAGNÉ",this._player.winBet(this._currentPlayerHand)),void 0===t?[3,3]:[4,w.showStateMessage(t,n)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return setTimeout((function(){a.restart()}),2e3),[2]}}))}))},t.prototype.restart=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._currentPlayerHand=0,this._dealerHand=new y,this._player.clearHands(),[4,w.clearHands()];case 1:return t.sent(),[4,this.bet()];case 2:return t.sent(),[2]}}))}))},t.prototype.isGameOver=function(){for(var t=0;t<this._player.getNumberHands();t++)if(Math.min.apply(Math,this._player.getHand(t).getScore())<21)return!1;return!0},t.prototype.dealerBlackjack=function(){return this._dealerHand.getScore().includes(21)},t.prototype.dealerBusts=function(){return Math.min.apply(Math,this._dealerHand.getScore())>21},t.prototype.playerBlackjack=function(t){return this._player.getHand(t).getScore().includes(21)},t.prototype.playerBusts=function(t){return Math.min.apply(Math,this._player.getHand(t).getScore())>21},t.prototype.isFinished=function(){return this._state===B.FINISH},t.prototype.isPlaying=function(){return this._state===B.PLAY||this._state===B.DEAL},t.prototype.displayScore=function(t){var e=document.getElementById("score"),n=t.parentElement;if("dealerHand"===n.id)(r=this._dealerHand.getScore()).length>1?e.textContent=Math.min.apply(Math,r)>21?Math.min.apply(Math,r).toString():r.filter((function(t){return t<=21})).join(" ou "):e.textContent=r.join(),e.style.transform="scale(1)";else if("playerHand"===n.id){var r;(r=this._player.getHand(parseInt(t.dataset.hand)).getScore()).length>1?e.textContent=Math.min.apply(Math,r)>21?Math.min.apply(Math,r).toString():r.filter((function(t){return t<=21})).join(" ou "):e.textContent=r.join(),e.style.transform="scale(1)",e.style.transform="scale(1)"}},t.prototype.hideScore=function(){var t=document.getElementById("score");t.textContent="",t.style.transform="scale(0)"},t}();window.onload=function(){document.body.classList.remove("preload");var t=new L;t.start(1e3,8);var e,n=document.getElementById("standButton"),r=document.getElementById("hitButton"),a=document.getElementById("doubleButton"),s=document.getElementById("splitButton");n.addEventListener("click",(function(){return t.nextHand()})),r.addEventListener("click",(function(){return t.hit()})),a.addEventListener("click",(function(){return t.double()})),s.addEventListener("click",(function(){return t.split()})),document.body.addEventListener("mousemove",(function(n){var r=n.target;if(r.classList.contains("card")){var a=r.parentElement;a.classList.contains("hand2")&&(a.classList.add("hover"),t.displayScore(a),e=a)}else void 0!==e&&(e.classList.contains("hand2")&&(e.classList.remove("hover"),t.hideScore()),e=void 0)}))}})()})();