(()=>{var t={7774:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(8081),a=n.n(r),s=n(3645),o=n.n(s),i=n(1667),c=n.n(i),d=new URL(n(6293),n.b),p=o()(a()),u=c()(d);p.push([t.id,".preload * {\r\n    -webkit-transition: none !important;\r\n    -moz-transition: none !important;\r\n    -ms-transition: none !important;\r\n    -o-transition: none !important;\r\n}\r\n\r\nhtml, body {\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    border: 0;\r\n    overflow: hidden;\r\n}\r\n\r\n#boardGame {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: radial-gradient(circle, #007900 0%, #002a00 100%);\r\n    color: white;\r\n}\r\n\r\n#deck {\r\n    position: absolute;\r\n    top: 70px;\r\n    right: 70px;\r\n    width: 96px;\r\n    height: 144px;\r\n}\r\n\r\n#deckCardsNumber {\r\n    position: absolute;\r\n    top: 220px;\r\n    right: 105px;\r\n    color: black;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n}\r\n\r\n#dealerHand {\r\n    position: absolute;\r\n    top: 70px;\r\n    left: calc(100%/2 - 48px);\r\n    width: 96px;\r\n    height: 144px;\r\n}\r\n\r\n#playerHand {\r\n    position: absolute;\r\n    bottom: 70px;\r\n    left: calc(100%/2 - 48px);\r\n    width: 96px;\r\n    height: 144px;\r\n}\r\n\r\n.card {\r\n    position: absolute;\r\n    width: 96px;\r\n    height: 144px;\r\n    background-image: url("+u+");\r\n    transition: 0.7s;\r\n}\r\n\r\n#actions {\r\n    position: absolute;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: center;\r\n    width: 150px;\r\n    height: 100%;\r\n    left: calc(100%/4 - 75px);\r\n}\r\n\r\n.actionButton {\r\n    width: 150px;\r\n    height: 75px;\r\n    background: #ffffff38;\r\n    border: 3px solid #1a1a1a;\r\n    border-radius: 20px;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    transition: 0.5s;\r\n    color: #1a1a1a;\r\n    font-family: Calibri;\r\n    margin: 10px 0;\r\n}\r\n\r\n.actionButton:not(.disabled):hover {\r\n    transform: scale(1.1) rotate(1deg);\r\n    background: #ffffff6b;\r\n}\r\n\r\n.actionButton:not(.disabled):active {\r\n    background: #ffffff91;\r\n    transform: scale(0.9) rotate(-2deg);\r\n    transition: 0.05s;\r\n}\r\n\r\n.actionButton.disabled {\r\n    cursor: default;\r\n    background: transparent;\r\n}\r\n\r\n.hand.hover > .card {\r\n    transform: scale(1.2) rotate(2deg);\r\n    box-shadow: black 2px -2px 10px;\r\n}\r\n\r\n#endMessage {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-align: center;\r\n    font-size: 50px;\r\n    font-weight: bold;\r\n    top: calc(100%/2 - 25px);\r\n    line-height: 50px;\r\n    transition: 0.5s;\r\n    color: #d40000;\r\n    text-shadow: black 2px 2px 3px;\r\n    transform: scale(0);\r\n}\r\n\r\n#score {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-align: center;\r\n    font-size: 50px;\r\n    font-weight: bold;\r\n    top: calc(100%/2 - 25px);\r\n    line-height: 50px;\r\n    transition: 0.5s;\r\n    color: #000000;\r\n    transform: scale(0);\r\n}",""]);const l=p},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(o[c]=!0)}for(var d=0;d<t.length;d++){var p=[].concat(t[d]);r&&o[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),e.push(p))}},e}},1667:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},o=[],i=0;i<t.length;i++){var c=t[i],d=r.base?c[0]+r.base:c[0],p=s[d]||0,u="".concat(d," ").concat(p);s[d]=p+1;var l=n(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==l)e[l].references++,e[l].updater(f);else{var h=a(f,r);r.byIndex=i,e.splice(i,0,{identifier:u,updater:h,references:1})}o.push(u)}return o}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var s=r(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var i=n(s[o]);e[i].references--}for(var c=r(t,a),d=0;d<s.length;d++){var p=n(s[d]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}s=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},2800:(t,e,n)=>{var r={"./card-back1.png":6293,"./card-back2.png":2250,"./card-back3.png":634,"./card-back4.png":6165,"./card-blank.png":7064,"./card-clubs-1.png":5202,"./card-clubs-10.png":2627,"./card-clubs-11.png":8685,"./card-clubs-12.png":1483,"./card-clubs-13.png":3028,"./card-clubs-2.png":1622,"./card-clubs-3.png":97,"./card-clubs-4.png":8106,"./card-clubs-5.png":8566,"./card-clubs-6.png":4025,"./card-clubs-7.png":767,"./card-clubs-8.png":9671,"./card-clubs-9.png":1160,"./card-diamonds-1.png":8924,"./card-diamonds-10.png":2547,"./card-diamonds-11.png":9045,"./card-diamonds-12.png":1246,"./card-diamonds-13.png":4057,"./card-diamonds-2.png":5553,"./card-diamonds-3.png":6404,"./card-diamonds-4.png":2637,"./card-diamonds-5.png":6517,"./card-diamonds-6.png":3925,"./card-diamonds-7.png":309,"./card-diamonds-8.png":2537,"./card-diamonds-9.png":5264,"./card-hearts-1.png":7632,"./card-hearts-10.png":9911,"./card-hearts-11.png":1391,"./card-hearts-12.png":117,"./card-hearts-13.png":4155,"./card-hearts-2.png":156,"./card-hearts-3.png":2705,"./card-hearts-4.png":1469,"./card-hearts-5.png":3110,"./card-hearts-6.png":1331,"./card-hearts-7.png":6941,"./card-hearts-8.png":5511,"./card-hearts-9.png":1459,"./card-spades-1.png":7235,"./card-spades-10.png":2263,"./card-spades-11.png":7379,"./card-spades-12.png":6820,"./card-spades-13.png":1697,"./card-spades-2.png":3833,"./card-spades-3.png":2030,"./card-spades-4.png":2803,"./card-spades-5.png":9122,"./card-spades-6.png":3966,"./card-spades-7.png":3116,"./card-spades-8.png":4720,"./card-spades-9.png":7518};function a(t){var e=s(t);return n(e)}function s(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id=2800},6293:(t,e,n)=>{"use strict";t.exports=n.p+"502e98463c5d144a8c1f.png"},2250:(t,e,n)=>{"use strict";t.exports=n.p+"88cdc73fe83d6a265e7f.png"},634:(t,e,n)=>{"use strict";t.exports=n.p+"e4f857b19869ac4ed5c2.png"},6165:(t,e,n)=>{"use strict";t.exports=n.p+"2784eb897dd71be5882f.png"},7064:(t,e,n)=>{"use strict";t.exports=n.p+"400ea2adf78d8b3e3e3e.png"},5202:(t,e,n)=>{"use strict";t.exports=n.p+"8061496e2997a444ec7e.png"},2627:(t,e,n)=>{"use strict";t.exports=n.p+"c4c410fa86df1463f249.png"},8685:(t,e,n)=>{"use strict";t.exports=n.p+"47fab08ff30eb635b995.png"},1483:(t,e,n)=>{"use strict";t.exports=n.p+"7ce04acb9ee2689c396a.png"},3028:(t,e,n)=>{"use strict";t.exports=n.p+"b6b0b9c2477604cdba75.png"},1622:(t,e,n)=>{"use strict";t.exports=n.p+"c91364fa0c444cba5a30.png"},97:(t,e,n)=>{"use strict";t.exports=n.p+"7f0a16df8b0d8617b844.png"},8106:(t,e,n)=>{"use strict";t.exports=n.p+"0ef18a3383e228c2e549.png"},8566:(t,e,n)=>{"use strict";t.exports=n.p+"5bb659db058a45693ea6.png"},4025:(t,e,n)=>{"use strict";t.exports=n.p+"a9165a3b8b413173d7d9.png"},767:(t,e,n)=>{"use strict";t.exports=n.p+"0682f76d5d63f252f4aa.png"},9671:(t,e,n)=>{"use strict";t.exports=n.p+"bbcfbd9f6d45e0b247fc.png"},1160:(t,e,n)=>{"use strict";t.exports=n.p+"3a78273532f51db2ce08.png"},8924:(t,e,n)=>{"use strict";t.exports=n.p+"1147a832e122caeeccde.png"},2547:(t,e,n)=>{"use strict";t.exports=n.p+"fa6be1be57f31e1e9e3e.png"},9045:(t,e,n)=>{"use strict";t.exports=n.p+"1c12a1e969ef5616db2c.png"},1246:(t,e,n)=>{"use strict";t.exports=n.p+"fc1037845e73447b4bef.png"},4057:(t,e,n)=>{"use strict";t.exports=n.p+"63548591dc70f8dd6c0e.png"},5553:(t,e,n)=>{"use strict";t.exports=n.p+"554ed05730cb8f2abb92.png"},6404:(t,e,n)=>{"use strict";t.exports=n.p+"b5b010ff20157039ee0f.png"},2637:(t,e,n)=>{"use strict";t.exports=n.p+"28a0b655512df0781092.png"},6517:(t,e,n)=>{"use strict";t.exports=n.p+"fb16c25806dad7760c5f.png"},3925:(t,e,n)=>{"use strict";t.exports=n.p+"91254dd3c7b3671ba81f.png"},309:(t,e,n)=>{"use strict";t.exports=n.p+"fdb260a4bf1c49e72734.png"},2537:(t,e,n)=>{"use strict";t.exports=n.p+"47c99bcadd0594fc4084.png"},5264:(t,e,n)=>{"use strict";t.exports=n.p+"fc322ef866a6342301ac.png"},7632:(t,e,n)=>{"use strict";t.exports=n.p+"fef24310008aff183afd.png"},9911:(t,e,n)=>{"use strict";t.exports=n.p+"b6f0886825517bfffc5a.png"},1391:(t,e,n)=>{"use strict";t.exports=n.p+"fb6e32c76cd82a652dbc.png"},117:(t,e,n)=>{"use strict";t.exports=n.p+"39998879b75b1ef99b98.png"},4155:(t,e,n)=>{"use strict";t.exports=n.p+"c1287bcd04c96dd6a0af.png"},156:(t,e,n)=>{"use strict";t.exports=n.p+"7ee1130eb3635430de85.png"},2705:(t,e,n)=>{"use strict";t.exports=n.p+"a17e1eb4122da58ab2f0.png"},1469:(t,e,n)=>{"use strict";t.exports=n.p+"ffcde93f3d12d42604f9.png"},3110:(t,e,n)=>{"use strict";t.exports=n.p+"729c3114b57535662211.png"},1331:(t,e,n)=>{"use strict";t.exports=n.p+"25966b429a29097775e2.png"},6941:(t,e,n)=>{"use strict";t.exports=n.p+"67a9419cbcfa94e6f74f.png"},5511:(t,e,n)=>{"use strict";t.exports=n.p+"6ec0c8a01c1017a6062e.png"},1459:(t,e,n)=>{"use strict";t.exports=n.p+"2d24f6098d04be4286b1.png"},7235:(t,e,n)=>{"use strict";t.exports=n.p+"e2943f95439d100e1824.png"},2263:(t,e,n)=>{"use strict";t.exports=n.p+"38f4563360aa33adbb55.png"},7379:(t,e,n)=>{"use strict";t.exports=n.p+"c2ce67aa39e512bc8bd4.png"},6820:(t,e,n)=>{"use strict";t.exports=n.p+"cb4c794e394a219079b7.png"},1697:(t,e,n)=>{"use strict";t.exports=n.p+"1743d124ebce1be7b34f.png"},3833:(t,e,n)=>{"use strict";t.exports=n.p+"4e7404f3d1cb04ec17c9.png"},2030:(t,e,n)=>{"use strict";t.exports=n.p+"5be45d7fa98f344eb3e7.png"},2803:(t,e,n)=>{"use strict";t.exports=n.p+"cfd9685811540e276e52.png"},9122:(t,e,n)=>{"use strict";t.exports=n.p+"28b69f60d17e51b48777.png"},3966:(t,e,n)=>{"use strict";t.exports=n.p+"d87b9f0f51c3f370db71.png"},3116:(t,e,n)=>{"use strict";t.exports=n.p+"bdca3d47e3b048fbae30.png"},4720:(t,e,n)=>{"use strict";t.exports=n.p+"91498eef2552ffe90454.png"},7518:(t,e,n)=>{"use strict";t.exports=n.p+"5643b29f38e64d434f71.png"}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var s=e[r]={id:r,exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var t,e=n(3379),r=n.n(e),a=n(7795),s=n.n(a),o=n(569),i=n.n(o),c=n(3565),d=n.n(c),p=n(9216),u=n.n(p),l=n(4589),f=n.n(l),h=n(7774),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=i().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=u(),r()(h.Z,g),h.Z&&h.Z.locals&&h.Z.locals,function(t){t[t.Club=0]="Club",t[t.Diamond=1]="Diamond",t[t.Heart=2]="Heart",t[t.Spade=3]="Spade"}(t||(t={}));const b=function(){function e(t,e){this._value=t,this._suit=e}return e.prototype.getUrl=function(){var e="card-";switch(this._suit){case t.Club:e+="clubs";break;case t.Diamond:e+="diamonds";break;case t.Heart:e+="hearts";break;case t.Spade:e+="spades"}return e+="-"+this._value.toString()+".png",n(2800)("./"+e)},e.prototype.getName=function(){var e;switch(this._value){case 1:e="As";break;case 11:e="Valet";break;case 12:e="Dame";break;case 13:e="Roi";break;default:e=this._value.toString()}switch(e+=" de ",this._suit){case t.Club:e+="Trèfle";break;case t.Diamond:e+="Carreau";break;case t.Heart:e+="Coeur";break;case t.Spade:e+="Pique"}return e},e.prototype.getScore=function(){var t;switch(this._value){case 11:case 12:case 13:t=10;break;default:t=this._value}return t},e.getBackUrl=function(){return n(6293)},e}(),y=function(){function t(){this._cards=[]}return t.prototype.addCard=function(t){t instanceof b&&this._cards.push(t)},t.prototype.getCards=function(){return this._cards},t.prototype.getScore=function(){var t=0,e=0;return this._cards.forEach((function(n){1===n.getScore()?e++:t+=n.getScore()})),e>0?[t+e,t+e+10]:[t]},t}(),m=function(){function t(){this._hand=new y,this._bet=0,this._bankroll=0}return t.prototype.addCard=function(t){this._hand.addCard(t)},t.prototype.getHand=function(){return this._hand},t.prototype.throwHand=function(){this._hand=new y},t.prototype.setBankroll=function(t){this._bankroll=Math.max(0,t)},t.prototype.getBankroll=function(){return this._bankroll},t.prototype.bet=function(t){t=Math.max(Math.min(this._bankroll,t),0),this._bet+=t,this._bankroll-=t},t.prototype.getBet=function(){return this._bet},t.prototype.loseBet=function(){this._bet=0},t.prototype.winBet=function(){this._bankroll+=2*this._bet,this._bet=0},t.prototype.winBlackjack=function(){this._bankroll+=3*this._bet,this._bet=0},t.prototype.tie=function(){this._bankroll+=this._bet,this._bet=0},t}(),x=function(){function t(){this._cards=[]}return t.prototype.addCard=function(t){this._cards.push(t)},t.prototype.shuffle=function(){this._cards=this._cards.sort((function(t,e){return.5-Math.random()}))},t.prototype.popCard=function(){return this._cards.pop()},t.prototype.isEmpty=function(){return 0===this._cards.length},t.prototype.getNbCards=function(){return this._cards.length},t}();var v=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function i(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,i)}c((r=r.apply(t,e||[])).next())}))},_=function(t,e){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},k={DEALER:document.getElementById("dealerHand"),PLAYER:document.getElementById("playerHand")};function w(t){return new Promise((function(e){return setTimeout(e,t)}))}const E=function(){function t(){}return t.dealCard=function(t,e){return v(this,void 0,void 0,(function(){var n,r,a,s,o,i,c,d;return _(this,(function(p){switch(p.label){case 0:return void 0===t?[2]:(this.animationPlaying=!0,n=document.getElementById("deckCardsNumber"),r=n.textContent,n.textContent=(parseInt(r)-1).toString(),a=k[e],s=document.getElementById("deck"),o=s.cloneNode(!0),document.body.appendChild(o),i=20*a.children.length,c=20*a.children.length,"DEALER"===e&&(i*=-1),o.style.top=(a.getBoundingClientRect().top-i).toString()+"px",o.style.right=(a.getBoundingClientRect().right-o.clientWidth-c).toString()+"px",[4,w(this.dealingSpeed)]);case 1:return p.sent(),o.remove(),(d=document.createElement("div")).classList.add("card"),d.style.backgroundImage="url("+t.getUrl()+")",d.style.bottom=i.toString()+"px",d.style.left=c.toString()+"px",a.appendChild(d),this.animationPlaying=!1,[2]}}))}))},t.clearHands=function(){return v(this,void 0,void 0,(function(){var t,e,n,r;return _(this,(function(a){switch(a.label){case 0:for(this.animationPlaying=!0,t=document.getElementsByClassName("card"),e=0;e<t.length;e++)n=t[e],(r=n.parentElement).classList.contains("hand")&&(n.style.backgroundImage="url("+b.getBackUrl()+")",n.style.bottom=r.getBoundingClientRect().bottom.toString()+"px",n.style.left=(-r.getBoundingClientRect().left).toString()+"px");return[4,w(this.dealingSpeed)];case 1:return a.sent(),k.DEALER.innerHTML="",k.PLAYER.innerHTML="",this.animationPlaying=!1,[2]}}))}))},t.animationPlaying=!1,t.dealingSpeed=700,t}();var B,C=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function o(t){try{c(r.next(t))}catch(t){s(t)}}function i(t){try{c(r.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,i)}c((r=r.apply(t,e||[])).next())}))},S=function(t,e){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};!function(t){t[t.CREATE=0]="CREATE",t[t.BET=1]="BET",t[t.DEAL=2]="DEAL",t[t.PLAY=3]="PLAY",t[t.FINISH=4]="FINISH"}(B||(B={}));var L={STAND:document.getElementById("standButton"),HIT:document.getElementById("hitButton"),DOUBLE:document.getElementById("doubleButton"),SHARE:document.getElementById("shareButton"),disableAll:function(){L.STAND.classList.add("disabled"),L.HIT.classList.add("disabled"),L.DOUBLE.classList.add("disabled"),L.SHARE.classList.add("disabled")}};const A=function(){function t(){this._player=new m,this._dealerHand=new y,this._state=B.CREATE,this._deck=new x}return t.prototype.start=function(t,e){return C(this,void 0,void 0,(function(){var n,r,a;return S(this,(function(s){switch(s.label){case 0:for(this._player.setBankroll(t),e=Math.min(Math.max(1,e),8),n=0;n<e;n++)for(r=0;r<4;r++)for(a=1;a<=13;a++)this._deck.addCard(new b(a,r));return this._deck.shuffle(),document.getElementById("deckCardsNumber").textContent=this._deck.getNbCards().toString(),[4,this.bet()];case 1:return s.sent(),[2]}}))}))},t.prototype.bet=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._state=B.BET,this._player.bet(10),[4,this.deal()];case 1:return t.sent(),[2]}}))}))},t.prototype.deal=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._state=B.DEAL,L.disableAll(),this._player.addCard(this._deck.popCard()),[4,E.dealCard(this._player.getHand().getCards()[0],"PLAYER")];case 1:return t.sent(),this._dealerHand.addCard(this._deck.popCard()),[4,E.dealCard(this._dealerHand.getCards()[0],"DEALER")];case 2:return t.sent(),this._player.addCard(this._deck.popCard()),[4,E.dealCard(this._player.getHand().getCards()[1],"PLAYER")];case 3:return t.sent(),this.canPlay()?[3,5]:[4,this.pay()];case 4:return t.sent(),[3,7];case 5:return[4,this.play()];case 6:t.sent(),t.label=7;case 7:return[2]}}))}))},t.prototype.play=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){return this._state=B.PLAY,L.STAND.classList.remove("disabled"),L.HIT.classList.remove("disabled"),L.DOUBLE.classList.remove("disabled"),[2]}))}))},t.prototype.stand=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:if(this._state!==B.PLAY||E.animationPlaying)return[3,5];L.disableAll(),e.label=1;case 1:return this.canPlay()&&Math.min.apply(Math,this._dealerHand.getScore())<17?(t=this._deck.popCard(),[4,E.dealCard(t,"DEALER")]):[3,3];case 2:return e.sent(),this._dealerHand.addCard(t),[3,1];case 3:return[4,this.pay()];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))},t.prototype.hit=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return this._state!==B.PLAY||E.animationPlaying?[3,3]:(L.DOUBLE.classList.add("disabled"),t=this._deck.popCard(),[4,E.dealCard(t,"PLAYER")]);case 1:return e.sent(),this._player.addCard(t),this.canPlay()?[3,3]:[4,this.pay()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.double=function(){return C(this,void 0,void 0,(function(){var t;return S(this,(function(e){switch(e.label){case 0:return this._state!==B.PLAY||E.animationPlaying?[3,9]:(L.disableAll(),2!==this._player.getHand().getCards().length?[3,8]:this._player.getBankroll()>=this._player.getBet()?(this._player.bet(2*this._player.getBet()),t=this._deck.popCard(),[4,E.dealCard(t,"PLAYER")]):[3,6]);case 1:return e.sent(),this._player.addCard(t),this.canPlay()?[3,3]:[4,this.pay()];case 2:return e.sent(),[3,5];case 3:return[4,this.stand()];case 4:e.sent(),e.label=5;case 5:return[3,7];case 6:alert("Vous n'avez pas assez d'argent pour ça..."),e.label=7;case 7:return[3,9];case 8:alert("Vous ne pouvez doubler qu'au premier tour."),e.label=9;case 9:return[2]}}))}))},t.prototype.pay=function(){return C(this,void 0,void 0,(function(){var t,e,n,r,a=this;return S(this,(function(s){return this._state=B.FINISH,L.disableAll(),this.hideScore(),e=Math.max.apply(Math,this._dealerHand.getScore().filter((function(t){return t<21}))),n=Math.max.apply(Math,this._player.getHand().getScore().filter((function(t){return t<21}))),this.dealerBlackjack()&&this.playerBlackjack()||e===n?(t="ÉGALITÉ",this._player.tie()):this.dealerBlackjack()||this.playerBusts()?(t="PERDU...",this._player.loseBet()):this.dealerBusts()?(t="GAGNÉ !",this._player.winBet()):this.playerBlackjack()?(t="BLACKJACK !!",this._player.winBlackjack()):e>n?(t="PERDU...",this._player.loseBet()):(t="GAGNÉ !",this._player.winBet()),(r=document.getElementById("endMessage")).textContent=t,r.style.transform="scale(1)",setTimeout((function(){r.textContent="",r.style.transform="scale(0)",a.restart()}),2e3),[2]}))}))},t.prototype.restart=function(){return C(this,void 0,void 0,(function(){return S(this,(function(t){switch(t.label){case 0:return this._dealerHand=new y,this._player.throwHand(),[4,E.clearHands()];case 1:return t.sent(),[4,this.bet()];case 2:return t.sent(),[2]}}))}))},t.prototype.canPlay=function(){return!(this.dealerBlackjack()||this.dealerBusts()||this.playerBlackjack()||this.playerBusts())},t.prototype.dealerBlackjack=function(){return this._dealerHand.getScore().includes(21)},t.prototype.dealerBusts=function(){return Math.min.apply(Math,this._dealerHand.getScore())>21},t.prototype.playerBlackjack=function(){return this._player.getHand().getScore().includes(21)},t.prototype.playerBusts=function(){return Math.min.apply(Math,this._player.getHand().getScore())>21},t.prototype.isFinished=function(){return this._state===B.FINISH},t.prototype.isPlaying=function(){return this._state===B.PLAY||this._state===B.DEAL},t.prototype.displayScore=function(t){var e=document.getElementById("score");"dealerHand"===t.id?(e.textContent=this._dealerHand.getScore().filter((function(t){return t<21})).join(" ou "),e.style.transform="scale(1)"):"playerHand"===t.id&&(e.textContent=this._player.getHand().getScore().filter((function(t){return t<21})).join(" ou "),e.style.transform="scale(1)")},t.prototype.hideScore=function(){var t=document.getElementById("score");t.textContent="",t.style.transform="scale(0)"},t}();window.onload=function(){document.body.classList.remove("preload");var t=new A;t.start(100,8);var e=document.getElementById("standButton"),n=document.getElementById("hitButton"),r=document.getElementById("doubleButton");document.getElementById("shareButton"),e.addEventListener("click",(function(){return t.stand()})),n.addEventListener("click",(function(){return t.hit()})),r.addEventListener("click",(function(){return t.double()})),document.body.addEventListener("mouseover",(function(e){if(t.isPlaying()){var n=e.target;if(n.classList.contains("card")){var r=n.parentElement;r.classList.contains("hand")&&(r.classList.add("hover"),t.displayScore(r))}}})),document.body.addEventListener("mouseout",(function(e){var n=e.target;if(n.classList.contains("card")){var r=n.parentElement;r.classList.contains("hand")&&(r.classList.remove("hover"),t.hideScore())}}))}})()})();